// package routes

import (
	"uas-prestasi/middleware"
	"uas-prestasi/app/service"

	"github.com/gofiber/fiber/v2"
)

func AchievementRoutes(app *fiber.App, achService *service.AchievementService, permService *service.PermissionService) {
	routes := app.Group("/api/v1/achievements")

	routes.Post("/",
		middleware.JWTMiddleware,
		middleware.RBAC("achievement:create", permService),
		achService.Create,
	)

	routes.Post("/:id/verify",
		middleware.JWTMiddleware,
		middleware.RBAC("achievement:verify", permService),
		achService.Verify,
	)
}
